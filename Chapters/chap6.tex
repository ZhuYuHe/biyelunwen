
\chapter{总结与展望}

\section{总结}

分拣作业是制造业中非常常见的一种作业场景，由于其重复性强、作业场景单一的任务特性，分拣作业成为工业机器人的重要应用场景之一。传统的自动分拣
系统使用传统图像方法，针对特定的检测工件，人工构造特征，使用模板匹配工件位置，再进行分类。该方法准确率不高，鲁棒性差，可移植性不强。同时，国内
制造业从业者中缺乏图像方面的人才，提高了基于视觉的自动分拣系统在制造业中的应用门槛。因此，针对基于视觉的自动分拣系统的算法效果及其应用门槛问题，
研究如何提高自动分拣系统的应用效果并降低其在制造业中的应用门槛势在必行。

为了解决传统分拣系统所使用的传统目标检测算法存在的问题，本文设计的自动分拣系统采用基于深度学习的目标检测算法，并针对自动分拣系统的应用场景针对性地
进行了硬件选型、算法训练优化和模型配置文件优化，在提高了自动分拣系统算法效果的同时，又不降低其延时等性能。为解决制造业中，深度学习理论和应用普及度不广，
基于深度学习的自动分拣系统在制造业中应用门槛较高的问题，本文设计并开发了一款用于深度学习目标检测算法训练的云平台，将模型训练深度封装，并将模型配置过程
组件化，方便用户定制化深度学习目标检测模型。本文的主要工作内容如下：

（1） 设计自动分拣系统的整体架构，并针对性进行硬件、通信方式和基于深度学习的目标检测算法选型

结合基于视觉的自动分拣系统的原理，设计出应用层-控制层-云层的逻辑架构，将自动分拣系统的表现层面（抓取工件与获取图像）、控制层面（图像处理和机械臂控制）以及
后台层面（目标检测算法训练与选择）有机地分离开来，使得自动分拣系统的各模块呈现出松耦合的关系，方便后续深度学习云平台的开发；同时，结合自动分拣系统使用基于深度学习
的目标检测算法的情况，采用Jetson TX2作为中央处理单元，提供强大的算力以支持深度学习模型的预测，设计出工件-摄像头-Jetson TX2-DOBOT机械臂-工件的系统循环硬件架构。
此外，结合硬件系统架构，针对性地进行通信方式的选择，选择ROS作为Jetson TX2内部模块的通信机制，并使用ROS Mater节点将Jetson TX2内部各模块组织管理起来；结合
应用于工厂环境的自动分拣系统的实际情况，进行了深度学习目标检测算法的选型，选定YOLOv3作为应用于自动分拣系统的目标检测算法；最后，针对摄像头和机械臂，进行了手眼标定和
机械臂控制指令方案的设计与实现。

（2）设计自动分拣系统图像处理模块，结合传统图像算法和深度学习目标检测算法，使用迁移学习技术解决数据量较少的问题

本文设计的自动分拣系统采用基于深度学习的目标检测算法，相比于传统的目标检测算法，前者具有准确率高、鲁棒性强、可移植性强的优点。但深度学习模型需要大量的计算资源，
计算复杂度较高，因此本文在将图片输入深度学习模型中之前，首先使用传统图像算法进行初步处理，满足一定条件时才输入深度学习模型中，从而避免不必要的计算，提高运算速度。
此外，深度学习模型一般需要大量的数据作为训练样本，而工厂中很难有巨量的样本，更难靠人工标注的方式产生足够的样本。结合此实际情况，本文采用迁移学习技术，采用基于ImageNet
预训练的模型权重作为初始权重，结合小数量标注样本进行训练，从而获得更好的效果。在选择深度学习模型配置时，本文使用实验的方式，结合LOSS曲线和IOU曲线对YOLOv3和YOLOv3-tiny
两种模型配置进行了对比，最终得出针对本任务，YOLOv3-tiny更具优越性的结论。最后，训练好的模型还无法应用于实际场景，本文对训练好的深度学习模型进行了部署，将其加入到Jetson TX2的
ROS通信网络中，实现在自动分拣系统中进行目标检测的功能。

（3）设计并开发基于深度学习目标检测模型的云平台，降低深度学习目标检测模型的训练与使用门槛

结合云平台实际使用场景和用户需求，设计出Web-服务器的开发方案，并设计出客户端层-传输层-服务器层的云平台架构方案。本文主要完成了Web前端页面的开发和服务端驻留程序的开发。借助
Web前端页面的文本下拉选择框和文本输入框，用户可以通过简单的鼠标和键盘操作，即可配置相应的深度学习目标检测模型，通过自己上传的标注数据，训练定制化的深度学习目标检测模型。服务端
采用Flask架构，结合Linux Shell脚本，实现后台调用GPU训练用户定制化的目标检测模型。同时，在训练过程中，将训练参数实时反馈给用户，可由用户自主决定是否停止训练。在训练完成后，用户
可通过Web前端界面下载训练好的模型权重。该权重文件不单能够应用在自动分拣系统中进行工件检测，也可用于任何目标检测的任务场景。

本文设计开发的基于深度学习的自动分拣系统，在改进传统自动分拣系统目标检测算法不足并给出改进意见：采用基于深度学习的目标检测算法的同时，也基于此进行了硬件选型、模型训练
等方面的改进，同时提出的深度学习云平台大大降低了本系统在制造业中的应用门槛。


\section{展望}

本文主要对基于传统目标检测算法的自动分拣系统进行了改进，使用基于深度学习的目标检测算法替代了传统目标检测算法并进行了针对性改进，并开发出深度学习云平台用于降低该自动分拣系统的
应用门槛。但本文设计的基于深度学习的自动分拣系统及其云平台依然有进一步的研究与改进空间：

（1）硬件方面，采用Jetson TX2作为自动分拣系统的中央处理硬件平台，不仅提高了系统的运算能力，支持深度学习预测功能，并且大大缩小了自动分拣系统的体积，使得可移动的自动分拣系统成为可能。
因此，本系统具备进一步的研究空间，可将机械臂放置于运动载具上，进行移动式自动分拣系统的研究。

（2）本文在解决小数量标注数据集问题时，采用了模型迁移的迁移学习方式，即采用预训练模型权重作为本任务模型的初始化权重进行训练。该方式经过验证确实提高了采用小数量数据训练模型的表现，但
在模型迁移之外，还可以探索数据迁移等迁移学习方式，尽可能地提高小数量数据集训练模型的表现。

（3）为降低深度学习自动分拣系统的应用门槛，本文开发了用于训练深度学习目标检测模型的云平台。该平台依然有大量的优化空间。如增加模型封装范围，云平台将模型训练过程进行了封装，而模型部署
依然需要用户进行。因此可以考虑将模型训练、模型部署过程一起封装，用户只需关注自动分拣系统硬件的组装，软件模块可一件脚本执行部署完成。此外，因为该平台是针对本文设计的自动分拣系统所设计，因此
平台只支持深度学习目标检测算法的训练。而制造业中有许多图像算法的应用场景，如图像分类、图像分割等，可考虑增加可训练的模型种类，扩大云平台应用范围。